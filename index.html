<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AR Золотой слиток</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
</head>
<body>
    <a-scene 
        embedded 
        xr-mode-ui="enabled: true" 
        renderer="colorManagement: true; sortObjects: true;"
        webxr="requiredFeatures: hit-test; optionalFeatures: dom-overlay; overlayElement: #overlay;"
        background="transparent"
        ar-hit-test="target: #goldBar"
        cursor="rayOrigin: mouse"
        raycaster="objects: .clickable">
        
        <!-- Свет для реализма -->
        <a-entity light="type: ambient; intensity: 0.8"></a-entity>
        <a-entity light="type: directional; intensity: 1; castShadow: true" position="1 2 1"></a-entity>
        
        <!-- 3D слиток золота (простая геометрия для реалистичного золота) -->
        <a-entity id="goldBar" visible="false" shadow="receive: true">
            <a-box 
                depth="0.2" height="0.1" width="0.4"
                scale="0.5 0.5 0.5"
                position="0 0.05 0"
                material="metalness: 1; roughness: 0.2; color: #FFD700; envMapIntensity: 1.5"
                shadow="cast: true">
            </a-box>
            
            <!-- Надпись на слитке для большего реализма -->
            <a-text 
                value="999.9 FINE GOLD" 
                color="#B8860B" 
                align="center" 
                position="0 0.06 0.101" 
                rotation="0 0 0" 
                scale="0.3 0.3 0.3">
            </a-text>
        </a-entity>
        
        <!-- Ретикл (прицел для размещения) -->
        <a-entity id="reticle" visible="false">
            <a-ring radius-inner="0.02" radius-outer="0.03" color="#FFFFFF" opacity="0.8"></a-ring>
        </a-entity>
        
        <!-- Камера -->
        <a-camera></a-camera>
    </a-scene>

    <div id="overlay" style="position: fixed; top: 10px; left: 10px; color: white; background: rgba(0,0,0,0.5); padding: 10px;">
        <h2>AR Золотой слиток</h2>
        <p>Нажмите "AR", разрешите камеру и направьте на поверхность. Слиток появится в центре с реалистичным отражением.</p>
    </div>
</body>
</html>
